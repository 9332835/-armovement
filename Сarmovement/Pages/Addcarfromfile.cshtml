@page
@model Сarmovement.Pages.AddcarfromfileModel
@{
    var result = "";
    Array userData = null;
    char[] delimiterChar = { ',' };

    var dataFile = @"C:/Users/User/Desktop/Sample.txt";

    if (System.IO.File.Exists(dataFile))
    {
        userData = System.IO.File.ReadAllLines(dataFile);

        if (userData == null)
        {
            // Empty file.
            result = "The file is empty.";
        }
    }
    else
    {
        // File does not exist.
        result = "The file does not exist.";
    }
 }
<!DOCTYPE html>

<html>
<head>
    <title>Reading Data from a File</title>
</head>
<body>
    <div>
        <h1>Reading Data from a File</h1>
        <form enctype="multipart/form-data" method="post">
    <dl>
        <dt>
            <label asp-for="FileUpload.FormFile"></label>
        </dt>
        <dd>
            <input asp-for="FileUpload.FormFile" type="file">
            <span asp-validation-for="FileUpload.FormFile"></span>
        </dd>
    </dl>
    <input asp-page-handler="Upload" class="btn" type="submit" value="Upload" />
</form>

        @*@result
        @if (result == "")
        {
            <ol>
                @foreach (string dataLine in userData)
                {
                    <li>
                        User
                        <ul>
                            @foreach (string dataItem in dataLine.Split(delimiterChar))
                            {
                                <li>@dataItem</li>
                            }
                        </ul>
                    </li>
                }
            </ol>
        }*@
    </div>
</body>
</html>
